{
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "width": 900,
  "height": 500,
  "config": {"legend": {"disable":true}},
  "layer": [
    {
      "data": {
        "url": "https://Ehzuy.github.io/-FIT3179/worldmap.topojson",
        "format": {
          "type": "topojson",
          "feature": "custom"
        }
      },
      "projection": {
        "type": "mercator",
        "scale":110
      },
      "mark": {
        "type": "geoshape",
        "fill": "lightgray",
        "stroke": "white"
      }
    },
    
    {
      "data": {"url": "https://Ehzuy.github.io/-FIT3179/database.csv"},
      "projection": {"type": "mercator","scale":110},
      "layer":[{
        
        "selection": {
        "Yr": {
          "type": "single", "fields": [ "birth_year"],
          "init": { "birth_year": "1"},
          "bind": {  
            "birth_year": {"input": "range", "min": -4000, "max": 2000, "step": 1}
          }
        } 
        },
        "transform": [{"filter": {"field": "birth_year", "equal": "Yr"}}],
        "mark": "circle" 
      },
      { 
    "transform": [{"filter": {"selection": "Yr"}}],
    "mark": "circle",
    "encoding": {
      "longitude": {"field": "longitude", "type": "quantitative"},
      "latitude": {"field": "latitude", "type": "quantitative"},
      "color": {"value": "crimson"},
      "size": {"value": 100},
      "tooltip":[{"field":"full_name","type":"nominal"},
                  {"field":"occupation","type":"nominal"},
                  {"field":"sex","type":"nominal"},
                  {"field":"historical_popularity_index","type":"quantitative"},
                  {"field":"country","type":"nominal"}]
    }
    }]
    }
  ]
}
